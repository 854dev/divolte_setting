divolte {
        global {
                server {
                        host = 0.0.0.0
                        host = ${?DIVOLTE_HOST}
                        port = 8290
                        port = ${?DIVOLTE_PORT}
                }


                kafka {
                    // Enable Kafka flushing
                    enabled = true

                    // The properties under the producer key in this
                    // configuration are used to create a Properties object
                    // which is passed to Kafka as is. At the very least,
                    // configure the broker list here. For more options
                    // that can be passed to a Kafka producer, see this link:
                    // https://kafka.apache.org/documentation.html#producerconfigs
                    producer = {
                        bootstrap.servers = "a37e882ea918344d4bddd1fa24788054-77e1b08e6b53e9c3.elb.ap-northeast-2.amazonaws.com:9094"
                    }
                }
        }

        sinks {
            // The name of the sink. It is referred to by the mapping
            kafka {
                type = kafka

                // This is the name of the topic that data will be produced on
                topic = divolte-data
            }
        }


        mappings {
                my_mapping = {
                        schema_file = "/home/devel/divolte-collector-0.9.0/conf/dmkEventRecord.avsc"
                        mapping_script_file = "/home/devel/divolte-collector-0.9.0/conf/mapping.groovy"
                        sources = [browser]
                        sinks = [hdfs,kafka]
                }
        }
}
